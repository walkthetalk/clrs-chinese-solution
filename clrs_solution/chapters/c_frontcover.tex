\startcomponent c_frontcover
%\product opencl-spec-zh

%% move here from environment
\startuniqueMPgraphic{frontcoverBG}
    path p;
    u := 1cm; w := OverlayWidth; h := OverlayHeight;
    roundcorner := 8pt; offset := 12pt;

    color shade;
    shade := (.6,.6,.6);

    for i = 0 step .02 until 1:
        fill unitsquare xyscaled (w-i*u,h-i*u) squeezed (8pt,6pt)
             shifted (offset+i*u/2,-offset+i*u/2)
             withcolor transparent (1,.1,shade);
    endfor;

    p := unitsquare xyscaled (w, h) shifted (offset/2, -offset/2) squeezed (8pt,6pt);
    fill p withcolor \MPcolor{gray};
    draw p withcolor (0.6,0.8,1);
\stopuniqueMPgraphic
\defineoverlay[frontcoverBG][\uniqueMPgraphic{frontcoverBG}]


%\setupbackgrounds [page][background=]
\startmakeup[frontCover]
  \blank[2cm]
  \input{fig/logo.tex}
  \hfil\reuseMPgraphic{openclLogo}\hfil
  \blank[1cm]

  \startframedtext[middle][frame=off,background={frontcoverBG},width=.8\textwidth]
    \blank[.5cm]
    \hfil \booktitle 算法導論 \hfil
    \blank[.5cm]
    \hfil \booksubtitle 習題彙編 \hfil
    \blank[.5cm]
  \stopframedtext
  \blank[3cm]

  \rightaligned{
  \bTABLE
  \setupTABLE[frame=off,style={\rm\ita},align={middle,lohi}]
  \setupTABLE[column][1][align=flushright]
  \setupTABLE[column][3][align=flushleft]
  \bTR\bTD 編著 \eTD\bTD ： \eTD\bTD 倪慶亮 \eTD\eTR
  \bTR\bTD 編譯日期 \eTD\bTD ： \eTD\bTD \COMPILEDATE \eTD\eTR
  \bTR\bTD E-Mail \eTD\bTD ： \eTD\bTD \from[authorEmail] \eTD\eTR
  \bTR\bTD 博客 \eTD\bTD ： \eTD\bTD \from[authorBlog] \eTD\eTR
  \bTR\bTD 項目網址 \eTD\bTD ： \eTD\bTD \simpleurl{https://github.com/walkthetalk/clrs-chinese-solution} \eTD\eTR
  \eTABLE
  }
\stopmakeup
%\setupbackgrounds [page][background=]

\stopcomponent
